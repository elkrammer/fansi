#include <stdio.h>
#include <locale.h>

#include "cp437.h"

wchar_t cp437[] = {
    // 0 - 127
    L'\x0000',L'\x263A',L'\x263B',L'\x2665',
    L'\x2666',L'\x2663',L'\x2660',L'\x2022',
    L'\x25D8',L'\x25CB',L'\x25D9',L'\x2642',
    L'\x2640',L'\x266A',L'\x266B',L'\x263C',
    L'\x25BA',L'\x25C4',L'\x2195',L'\x203C',
    L'\x00B6',L'\x00A7',L'\x25AC',L'\x21A8',
    L'\x2191',L'\x2193',L'\x2192',L'\x2190',
    L'\x221F',L'\x2194',L'\x25B2',L'\x25BC',
    L'\x0020',L'\x0021',L'\x0022',L'\x0023',
    L'\x0024',L'\x0025',L'\x0026',L'\x0027',
    L'\x0028',L'\x0029',L'\x002A',L'\x002B',
    L'\x002C',L'\x002D',L'\x002E',L'\x002F',
    L'\x0030',L'\x0031',L'\x0032',L'\x0033',
    L'\x0034',L'\x0035',L'\x0036',L'\x0037',
    L'\x0038',L'\x0039',L'\x003A',L'\x003B',
    L'\x003C',L'\x003D',L'\x003E',L'\x003F',
    L'\x0040',L'\x0041',L'\x0042',L'\x0043',
    L'\x0044',L'\x0045',L'\x0046',L'\x0047',
    L'\x0048',L'\x0049',L'\x004A',L'\x004B',
    L'\x004C',L'\x004D',L'\x004E',L'\x004F',
    L'\x0050',L'\x0051',L'\x0052',L'\x0053',
    L'\x0054',L'\x0055',L'\x0056',L'\x0057',
    L'\x0058',L'\x0059',L'\x005A',L'\x005B',
    L'\x005C',L'\x005D',L'\x005E',L'\x005F',
    L'\x0060',L'\x0061',L'\x0062',L'\x0063',
    L'\x0064',L'\x0065',L'\x0066',L'\x0067',
    L'\x0068',L'\x0069',L'\x006A',L'\x006B',
    L'\x006C',L'\x006D',L'\x006E',L'\x006F',
    L'\x0070',L'\x0071',L'\x0072',L'\x0073',
    L'\x0074',L'\x0075',L'\x0076',L'\x0077',
    L'\x0078',L'\x0079',L'\x007A',L'\x007B',
    L'\x007C',L'\x007D',L'\x007E',L'\x2302',

    // 128-255
    L'\x00C7',L'\x00FC',L'\x00E9',L'\x00E2',
    L'\x00E4',L'\x00E0',L'\x00E5',L'\x00E7',
    L'\x00EA',L'\x00EB',L'\x00E8',L'\x00EF',
    L'\x00EE',L'\x00EC',L'\x00C4',L'\x00C5',
    L'\x00C9',L'\x00E6',L'\x00C6',L'\x00F4',
    L'\x00F6',L'\x00F2',L'\x00FB',L'\x00F9',
    L'\x00FF',L'\x00D6',L'\x00DC',L'\x00A2',
    L'\x00A3',L'\x00A5',L'\x20A7',L'\x0192',
    L'\x00E1',L'\x00ED',L'\x00F3',L'\x00FA',
    L'\x00F1',L'\x00D1',L'\x00AA',L'\x00BA',
    L'\x00BF',L'\x2310',L'\x00AC',L'\x00BD',
    L'\x00BC',L'\x00A1',L'\x00AB',L'\x00BB',
    L'\x2591',L'\x2592',L'\x2593',L'\x2502',
    L'\x2524',L'\x2561',L'\x2562',L'\x2556',
    L'\x2555',L'\x2563',L'\x2551',L'\x2557',
    L'\x255D',L'\x255C',L'\x255B',L'\x2510',
    L'\x2514',L'\x2534',L'\x252C',L'\x251C',
    L'\x2500',L'\x253C',L'\x255E',L'\x255F',
    L'\x255A',L'\x2554',L'\x2569',L'\x2566',
    L'\x2560',L'\x2550',L'\x256C',L'\x2567',
    L'\x2568',L'\x2564',L'\x2565',L'\x2559',
    L'\x2558',L'\x2552',L'\x2553',L'\x256B',
    L'\x256A',L'\x2518',L'\x250C',L'\x2588',
    L'\x2584',L'\x258C',L'\x2590',L'\x2580',
    L'\x03B1',L'\x00DF',L'\x0393',L'\x03C0',
    L'\x03A3',L'\x03C3',L'\x00B5',L'\x03C4',
    L'\x03A6',L'\x0398',L'\x03A9',L'\x03B4',
    L'\x221E',L'\x03C6',L'\x03B5',L'\x2229',
    L'\x2261',L'\x00B1',L'\x2265',L'\x2264',
    L'\x2320',L'\x2321',L'\x00F7',L'\x2248',
    L'\x00B0',L'\x2219',L'\x00B7',L'\x221A',
    L'\x207F',L'\x00B2',L'\x25A0',L'\x00A0',
};

void print_cp437() {
    setlocale(LC_ALL, "en_US.utf8");
    unsigned int y = 0;
    for (int x = 0; x < 256; x++) {
        fputwc(cp437[x], stdout);
        y++;
        if (y == 32) {
            fputwc(L'\x0A', stdout);
            y = 0;
        }
    }
}
